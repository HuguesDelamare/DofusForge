{% extends "base.html" %}

{% block title %}Recherchés Dofus{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1 class="text-center">Recherchés Dofus</h1>
    
    <!-- Menu déroulant des serveurs -->
    <div class="my-4">
        <label for="server-select" class="form-label">Sélectionnez votre serveur :</label>
        <select id="server-select" class="form-select">
            <option value="">Sélectionnez un serveur</option>
        </select>        
    </div>

    <!-- Boutons de filtre par tag -->
    <div class="my-4 text-center">
        <div class="filter-btn-container">
            <button class="btn btn-primary filter-btn" data-tag="Astrub">Astrub</button>
            <button class="btn btn-primary filter-btn" data-tag="Château d'Amakna">Château d'Amakna</button>
            <button class="btn btn-primary filter-btn" data-tag="Ecaflipus">Ecaflipus</button>
            <button class="btn btn-primary filter-btn" data-tag="Justiciers">Justiciers</button>
            <button class="btn btn-primary filter-btn" data-tag="Enutrosor">Enutrosor</button>
            <button class="btn btn-primary filter-btn" data-tag="Frigost">Frigost</button>
            <button class="btn btn-primary filter-btn" data-tag="la Bourgade">la Bourgade</button>
            <button class="btn btn-primary filter-btn" data-tag="Frigost, le Village Enseveli">Frigost, le Village Enseveli</button>
            <button class="btn btn-primary filter-btn" data-tag="Frigost III">Frigost III</button>
            <button class="btn btn-primary filter-btn" data-tag="Saharach">Saharach</button>
            <button class="btn btn-primary filter-btn" data-tag="Srambad">Srambad</button>
            <button class="btn btn-primary filter-btn" data-tag="Sufokia">Sufokia</button>
            <button class="btn btn-primary filter-btn" data-tag="Xélorium">Xélorium</button>
        </div>
    </div>
    
    <!-- Tableau des recherchés -->
    <div id="bounties-container" class="d-none">
        <h2 id="server-name" class="mt-4"></h2>
        <table class="table table-bordered table-dark table-hover text-center mt-3">
            <thead>
                <tr>
                    <th>Image</th>
                    <th>Nom de la cible</th>
                    <th>Ouvert <span data-bs-toggle="tooltip" title="Affiche l'état de la fenêtre et la date et l'heure du dernier kill">?</span></th>
                    <th>Fenêtre (Heures)</th>
                    <th>Max</th>
                    <th>Zone</th>
                    <th>Actions</th>
                    <th>Suivi</th>
                </tr>
            </thead>
            <tbody id="bounties-table-body"></tbody>
        </table>      
        <!-- Div pour afficher les informations supplémentaires -->
        <div id="additional-info-container" class="d-none mt-4">
            <div class="details-container">
                <img id="location-image" class="d-none" alt="Location Image" style="max-width: 300px; height: auto;">
                <div class="details-info">
                    <h3>Informations supplémentaires</h3>
                    <div id="additional-info"></div>
                    <a id="bounty-link" class="btn btn-info mt-2" target="_blank">Voir sur Dofus pour les Noobs</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/bounties.js') }}"></script>
{% endblock %}